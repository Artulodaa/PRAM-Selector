<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>Cabin Announcement Selector - PRAM-System</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="icon" href="icon.png" type="image/png">
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #e0f7fa, #b2ebf2);
            color: #333;
        }
        h1 {
            text-align: center;
            color: #01579b;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }
        .container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin-top: 20px;
        }
        .section {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            width: 45%;
            transition: transform 0.2s;
        }
        .section:hover {
            transform: translateY(-5px);
        }
        .checkbox-list {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background: #fafafa;
        }
        .checkbox-list label {
            display: block;
            margin: 8px 0;
            font-size: 16px;
            color: #424242;
        }
        button {
            padding: 12px 24px;
            background: linear-gradient(45deg, #0288d1, #0277bd);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            margin-right: 10px;
            font-size: 16px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: background 0.3s;
        }
        button:hover {
            background: linear-gradient(45deg, #0277bd, #01579b);
        }
        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin-top: 20px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        th {
            background: linear-gradient(45deg, #0288d1, #0277bd);
            color: white;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 14px;
        }
        td {
            background: #f9f9f9;
            color: #333;
            font-size: 14px;
        }
        tr:last-child td {
            border-bottom: none;
        }
        tr:hover td {
            background: #e1f5fe;
        }
        p {
            font-size: 16px;
            color: #555;
            text-align: center;
            margin-top: 20px;
        }
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            .section {
                width: 100%;
            }
            button {
                width: 100%;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <h1>Cabin Announcement Selector - PRAM-System</h1>
    <div class="container">
        <div class="section">
            <h2>Announcements</h2>
            <div class="checkbox-list" id="announcements">
                <label><input type="checkbox" id="select-all-announcements"> Select All Announcements</label>
                <label><input type="checkbox" name="announcement" value="BOARDING"> Boarding</label>
                <label><input type="checkbox" name="announcement" value="OTS"> OTS</label>
                <label><input type="checkbox" name="announcement" value="WELCOME_PRE_SAFETY"> Welcome – Pre-Safety</label>
                <label><input type="checkbox" name="announcement" value="SAFETY_DEMO"> Safety Demo</label>
                <label><input type="checkbox" name="announcement" value="ONBOARD_SERVICE"> Onboard Service</label>
                <label><input type="checkbox" name="announcement" value="GIFTS"> Gifts</label>
                <label><input type="checkbox" name="announcement" value="DUTYFREE"> Duty Free</label>
                <label><input type="checkbox" name="announcement" value="SCRATCHCARDS"> Scratchcards</label>
                <label><input type="checkbox" name="announcement" value="TURBULENCE"> Turbulence</label>
                <label><input type="checkbox" name="announcement" value="LANDED_NOT_ON_TIME"> Landed Not On Time</label>
                <label><input type="checkbox" name="announcement" value="LANDED_ON_TIME_BUGLE"> Landed On Time Bugle</label>
                <label><input type="checkbox" name="announcement" value="DISEMBARKATION"> Disembarkation</label>
            </div>

            <h2>Languages</h2>
            <div class="checkbox-list" id="languages">
                <label><input type="checkbox" id="select-all-languages"> Select All Languages</label>
                <label><input type="checkbox" name="language" value="English"> English</label>
                <label><input type="checkbox" name="language" value="Spanish"> Spanish</label>
                <label><input type="checkbox" name="language" value="Arabic"> Arabic (MSA)</label>
                <label><input type="checkbox" name="language" value="Bulgarian"> Bulgarian</label>
                <label><input type="checkbox" name="language" value="Catalan"> Catalan</label>
                <label><input type="checkbox" name="language" value="Croatian"> Croatian</label>
                <label><input type="checkbox" name="language" value="Czech"> Czech</label>
                <label><input type="checkbox" name="language" value="Danish"> Danish</label>
                <label><input type="checkbox" name="language" value="Dutch"> Dutch</label>
                <label><input type="checkbox" name="language" value="Finnish"> Finnish</label>
                <label><input type="checkbox" name="language" value="French"> French</label>
                <label><input type="checkbox" name="language" value="German"> German</label>
                <label><input type="checkbox" name="language" value="Greek"> Greek</label>
                <label><input type="checkbox" name="language" value="Hungarian"> Hungarian</label>
                <label><input type="checkbox" name="language" value="Italian"> Italian</label>
                <label><input type="checkbox" name="language" value="Latvian"> Latvian</label>
                <label><input type="checkbox" name="language" value="Lithuanian"> Lithuanian</label>
                <label><input type="checkbox" name="language" value="Maltese"> Maltese</label>
                <label><input type="checkbox" name="language" value="Norwegian"> Norwegian</label>
                <label><input type="checkbox" name="language" value="Polish"> Polish</label>
                <label><input type="checkbox" name="language" value="Portuguese"> Portuguese</label>
                <label><input type="checkbox" name="language" value="Romanian"> Romanian</label>
                <label><input type="checkbox" name="language" value="Slovak"> Slovak</label>
                <label><input type="checkbox" name="language" value="Swedish"> Swedish</label>
                <label><input type="checkbox" name="language" value="Ukrainian"> Ukrainian</label>
            </div>

            <button onclick="generateTable()">Generate Table</button>
            <button onclick="resetSelections()">Reset All Selections</button>
        </div>

        <div class="section">
            <h2>Results</h2>
            <div id="results">
                <p>Selected announcements: <span id="announcement-count">0</span></p>
                <p>Selected languages: <span id="language-count">0</span></p>
                <p>Total items: <span id="total-items">0</span></p>
                <table id="results-table">
                    <thead id="results-table-head">
                        <tr>
                            <th>Announcement</th>
                            <!-- Las columnas de idiomas se generarán dinámicamente -->
                        </tr>
                    </thead>
                    <tbody id="results-table-body"></tbody>
                </table>
            </div>
        </div>
    </div>

    <p>Settings will be saved automatically</p>

    <script>
        const pramData = {
            "BOARDING": {
                "English": "No. 46,47,48 (00:32,00:32,00:28)",
                "Arabic": "No. 64,65,66 (00:54,00:53,00:44)",
                "Bulgarian": "No. 80,81,82 (00:47,00:46,00:36)",
                "Catalan": "No. 96,97,98 (00:49,00:48,00:34)",
                "Croatian": "No. 112,113,114 (00:50,00:50,00:40)",
                "Czech": "No. 128,129,130 (00:53,00:52,00:36)",
                "Danish": "No. 144,145,146 (00:29,00:38,00:29)",
                "Dutch": "No. 160,161,162 (00:49,00:48,00:34)",
                "French": "No. 178,179,180 (00:42,00:00,00:32)",
                "German": "No. 196,197,198 (01:00,00:59,00:44)",
                "Greek": "No. 214,215,216 (00:48,00:47,00:40)",
                "Hungarian": "No. 232,233,234 (00:56,00:56,00:44)",
                "Italian": "No. 248,249,250 (00:43,00:42,00:36)",
                "Latvian": "No. 266,267,268 (00:56,00:54,00:44)",
                "Lithuanian": "No. 282,283,284 (00:45,00:44,00:34)",
                "Maltese": "No. 298,299,300 (00:59,00:58,00:40)",
                "Norwegian": "No. 314,315,316 (00:42,00:41,00:32)",
                "Polish": "No. 330,331,332 (00:50,00:48,00:36)",
                "Portuguese": "No. 348,349,350 (00:42,00:41,00:34)",
                "Romanian": "No. 366,367,368 (00:48,00:47,00:36)",
                "Spanish": "No. 382,383,384 (00:52,00:51,00:34)",
                "Swedish": "No. 400,401,402 (00:34,00:53,00:42)",
                "Ukrainian": "No. 416,417,418 (00:44,00:43,00:36)"
            },
            "OTS": {
                "English": "No. 49,50 (00:28,00:15)",
                "Dutch": "No. 163,164 (00:35,00:18)",
                "French": "No. 181,182 (00:45,00:20)",
                "German": "No. 199,200 (00:42,00:26)",
                "Greek": "No. 217,218 (00:48,00:24)",
                "Italian": "No. 251,252 (00:39,00:22)",
                "Polish": "No. 333,334 (00:41,00:20)",
                "Portuguese": "No. 351,352 (00:41,00:22)",
                "Spanish": "No. 385,386 (00:42,00:22)"
            },
            "WELCOME_PRE_SAFETY": {
                "English": "No. 63 (00:28)",
                "Arabic": "No. 79 (00:36)",
                "Bulgarian": "No. 95 (00:29)",
                "Catalan": "No. 111 (00:28)",
                "Croatian": "No. 127 (00:34)",
                "Czech": "No. 143 (00:31)",
                "Danish": "No. 159 (00:24)",
                "Dutch": "No. 177 (00:26)",
                "French": "No. 195 (00:30)",
                "German": "No. 213 (00:30)",
                "Greek": "No. 231 (00:27)",
                "Hungarian": "No. 247 (00:34)",
                "Italian": "No. 265 (00:34)",
                "Latvian": "No. 281 (00:33)",
                "Lithuanian": "No. 297 (00:29)",
                "Maltese": "No. 313 (00:35)",
                "Norwegian": "No. 329 (00:27)",
                "Polish": "No. 347 (00:27)",
                "Portuguese": "No. 365 (00:39)",
                "Romanian": "No. 381 (00:25)",
                "Spanish": "No. 399 (00:36)",
                "Swedish": "No. 415 (00:29)",
                "Ukrainian": "No. 431 (00:24)"
            },
            "SAFETY_DEMO": {
                "English": "No. 1 (03:21)",
                "Arabic": "No. 2 (03:05)",
                "Bulgarian": "No. 3 (02:40)",
                "Catalan": "No. 4 (02:48)",
                "Croatian": "No. 5 (03:05)",
                "Czech": "No. 6 (03:09)",
                "Danish": "No. 7 (03:13)",
                "Dutch": "No. 8 (02:55)",
                "Finnish": "No. 9 (03:22)",
                "French": "No. 10 (03:37)",
                "German": "No. 11 (02:24)",
                "Greek": "No. 12 (03:15)",
                "Hungarian": "No. 13 (03:23)",
                "Italian": "No. 14 (03:00)",
                "Latvian": "No. 15 (03:29)",
                "Lithuanian": "No. 16 (03:35)",
                "Maltese": "No. 17 (03:37)",
                "Norwegian": "No. 18 (03:33)",
                "Polish": "No. 19 (02:57)",
                "Portuguese": "No. 20 (03:09)",
                "Romanian": "No. 21 (03:39)",
                "Slovak": "No. 22 (02:26)",
                "Spanish": "No. 23 (03:15)",
                "Swedish": "No. 24 (02:53)",
                "Ukrainian": "No. 25 (03:21)"
            },
            "ONBOARD_SERVICE": {
                "English": "No. 55 (00:30)",
                "Arabic": "No. 71 (00:42)",
                "Bulgarian": "No. 87 (00:29)",
                "Catalan": "No. 103 (00:36)",
                "Croatian": "No. 119 (00:31)",
                "Czech": "No. 135 (00:33)",
                "Danish": "No. 151 (00:27)",
                "Dutch": "No. 169 (00:29)",
                "French": "No. 187 (00:30)",
                "German": "No. 205 (00:35)",
                "Greek": "No. 223 (00:31)",
                "Hungarian": "No. 239 (00:36)",
                "Italian": "No. 257 (00:37)",
                "Latvian": "No. 273 (00:37)",
                "Lithuanian": "No. 289 (00:26)",
                "Maltese": "No. 305 (00:36)",
                "Norwegian": "No. 321 (00:31)",
                "Polish": "No. 339 (00:30)",
                "Portuguese": "No. 357 (00:41)",
                "Romanian": "No. 373 (00:27)",
                "Spanish": "No. 391 (00:41)",
                "Swedish": "No. 407 (00:30)",
                "Ukrainian": "No. 423 (00:26)"
            },
            "GIFTS": {
                "English": "No. 52 (00:18)",
                "Arabic": "No. 68 (00:32)",
                "Bulgarian": "No. 84 (00:23)",
                "Catalan": "No. 100 (00:20)",
                "Croatian": "No. 116 (00:25)",
                "Czech": "No. 132 (00:25)",
                "Danish": "No. 148 (00:19)",
                "Dutch": "No. 166 (00:22)",
                "French": "No. 184 (00:17)",
                "German": "No. 202 (00:24)",
                "Greek": "No. 220 (00:23)",
                "Hungarian": "No. 236 (00:22)",
                "Italian": "No. 254 (00:27)",
                "Latvian": "No. 270 (00:23)",
                "Lithuanian": "No. 286 (00:24)",
                "Maltese": "No. 302 (00:24)",
                "Norwegian": "No. 318 (00:21)",
                "Polish": "No. 336 (00:21)",
                "Portuguese": "No. 354 (00:28)",
                "Romanian": "No. 370 (00:21)",
                "Spanish": "No. 388 (00:31)",
                "Swedish": "No. 404 (00:24)",
                "Ukrainian": "No. 420 (00:22)"
            },
            "DUTYFREE": {
                "English": "No. 51 (00:17)",
                "Arabic": "No. 67 (00:34)",
                "Bulgarian": "No. 83 (00:21)",
                "Catalan": "No. 99 (00:21)",
                "Croatian": "No. 115 (00:26)",
                "Czech": "No. 131 (00:25)",
                "Danish": "No. 147 (00:21)",
                "Dutch": "No. 165 (00:22)",
                "French": "No. 183 (00:19)",
                "German": "No. 201 (00:28)",
                "Greek": "No. 219 (00:21)",
                "Hungarian": "No. 235 (00:24)",
                "Italian": "No. 253 (00:20)",
                "Latvian": "No. 269 (00:23)",
                "Lithuanian": "No. 285 (00:28)",
                "Maltese": "No. 301 (00:25)",
                "Norwegian": "No. 317 (00:22)",
                "Polish": "No. 335 (00:20)",
                "Portuguese": "No. 353 (00:19)",
                "Romanian": "No. 369 (00:24)",
                "Spanish": "No. 387 (00:22)",
                "Swedish": "No. 403 (00:23)",
                "Ukrainian": "No. 419 (00:19)"
            },
            "SCRATCHCARDS": {
                "English": "No. 56,57,58,59,60,61 (00:22,00:17,00:21,00:32,00:26,00:29)",
                "Arabic": "No. 72,73,74,75,76,77 (00:30,00:20,00:31,00:48,00:34,00:43)",
                "Bulgarian": "No. 88,89,90,91,92,93 (00:24,00:19,00:28,00:41,00:32,00:37)",
                "Catalan": "No. 104,105,106,107,108,109 (00:27,00:17,00:28,00:37,00:32,00:35)",
                "Croatian": "No. 120,121,122,123,124,125 (00:29,35,00:26,00:44,00:34,00:39)",
                "Czech": "No. 136,137,138,139,140,141 (00:25,00:20,00:28,00:42,00:29,00:36)",
                "Danish": "No. 152,153,154,155,156,157 (00:22,00:17,00:24,00:40,00:27,00:34)",
                "Dutch": "No. 170,171,172,173,174,175 (00:22,00:14,00:23,00:36,00:27,00:32)",
                "French": "No. 188,189,190,191,192,193 (00:25,00:16,00:18,00:35,00:25,00:31)",
                "German": "No. 206,207,208,209,210,211 (00:27,00:19,00:24,00:42,00:31,00:38)",
                "Greek": "No. 224,225,226,227,228,229 (00:31,00:22,00:27,00:42,00:34,00:37)",
                "Hungarian": "No. 240,241,242,243,244,245 (00:32,00:22,00:26,00:41,00:33,00:44)",
                "Italian": "No. 258,259,260,261,262,263 (00:23,00:17,00:27,00:41,00:35,00:38)",
                "Latvian": "No. 274,275,276,277,278,279 (00:25,00:17,00:26,00:41,00:31,00:41)",
                "Lithuanian": "No. 290,291,292,293,294,295 (00:25,00:18,00:22,00:37,00:27,00:37)",
                "Maltese": "No. 306,307,308,309,310,311 (00:28,00:22,00:26,00:41,00:33,00:39)",
                "Norwegian": "No. 322,323,324,325,326,327 (00:24,00:20,00:25,00:39,00:33,00:36)",
                "Polish": "No. 340,341,342,343,344,345 (00:20,00:19,00:22,00:37,00:28,00:32)",
                "Portuguese": "No. 358,359,360,361,362,363 (00:27,00:22,00:28,00:38,00:35,00:36)",
                "Romanian": "No. 374,375,376,377,378,379 (00:28,00:20,00:27,00:41,00:36,00:41)",
                "Spanish": "No. 392,393,394,395,396,397 (00:25,00:18,00:25,00:36,00:30,00:35)",
                "Swedish": "No. 408,409,410,411,412,413 (00:25,00:20,00:27,00:45,00:35,00:37)",
                "Ukrainian": "No. 424,425,426,427,428,429 (00:22,00:13,00:23,00:30,00:23,00:24)"
            },
            "TURBULENCE": {
                "English": "No. 62 (00:15)",
                "Arabic": "No. 78 (00:21)",
                "Bulgarian": "No. 94 (00:17)",
                "Catalan": "No. 110 (00:17)",
                "Croatian": "No. 126 (00:18)",
                "Czech": "No. 142 (00:17)",
                "Danish": "No. 158 (00:15)",
                "Dutch": "No. 176 (00:15)",
                "French": "No. 194 (00:16)",
                "German": "No. 212 (00:20)",
                "Greek": "No. 230 (00:18)",
                "Hungarian": "No. 246 (00:18)",
                "Italian": "No. 264 (00:25)",
                "Latvian": "No. 280 (00:18)",
                "Lithuanian": "No. 296 (00:17)",
                "Maltese": "No. 312 (00:24)",
                "Norwegian": "No. 328 (00:17)",
                "Polish": "No. 346 (00:13)",
                "Portuguese": "No. 364 (00:27)",
                "Romanian": "No. 380 (00:18)",
                "Spanish": "No. 398 (00:24)",
                "Swedish": "No. 414 (00:18)",
                "Ukrainian": "No. 430 (00:23)"
            },
            "LANDED_NOT_ON_TIME": {
                "English": "No. 53 (00:15)",
                "Arabic": "No. 69 (00:26)",
                "Bulgarian": "No. 85 (00:18)",
                "Catalan": "No. 101 (00:15)",
                "Croatian": "No. 117 (00:21)",
                "Czech": "No. 133 (00:21)",
                "Danish": "No. 149 (00:15)",
                "Dutch": "No. 167 (00:20)",
                "French": "No. 185 (00:13)",
                "German": "No. 203 (00:20)",
                "Greek": "No. 221 (00:20)",
                "Hungarian": "No. 237 (00:18)",
                "Italian": "No. 255 (00:26)",
                "Latvian": "No. 271 (00:20)",
                "Lithuanian": "No. 287 (00:16)",
                "Maltese": "No. 303 (00:22)",
                "Norwegian": "No. 319 (00:17)",
                "Polish": "No. 337 (00:12)",
                "Portuguese": "No. 355 (00:28)",
                "Romanian": "No. 371 (00:19)",
                "Spanish": "No. 389 (00:23)",
                "Swedish": "No. 405 (00:22)",
                "Ukrainian": "No. 421 (00:17)"
            },
            "LANDED_ON_TIME_BUGLE": {
                "English": "No. 54 (00:17)",
                "Arabic": "No. 70 (00:25)",
                "Bulgarian": "No. 86 (00:22)",
                "Catalan": "No. 102 (00:17)",
                "Croatian": "No. 118 (00:22)",
                "Czech": "No. 134 (00:22)",
                "Danish": "No. 150 (00:20)",
                "Dutch": "No. 168 (00:23)",
                "French": "No. 186 (00:17)",
                "German": "No. 204 (00:24)",
                "Greek": "No. 222 (00:23)",
                "Hungarian": "No. 238 (00:22)",
                "Italian": "No. 256 (00:19)",
                "Latvian": "No. 272 (00:22)",
                "Lithuanian": "No. 288 (00:19)",
                "Maltese": "No. 304 (00:24)",
                "Norwegian": "No. 320 (00:20)",
                "Polish": "No. 338 (00:18)",
                "Portuguese": "No. 356 (00:19)",
                "Romanian": "No. 372 (00:20)",
                "Spanish": "No. 390 (00:17)",
                "Swedish": "No. 406 (00:25)",
                "Ukrainian": "No. 422 (00:18)"
            },
            "DISEMBARKATION": {
                "English": "No. 26 (00:20)",
                "Arabic": "No. 27 (00:25)",
                "Bulgarian": "No. 28 (00:23)",
                "Catalan": "No. 29 (00:17)",
                "Croatian": "No. 30 (00:26)",
                "Czech": "No. 31 (00:22)",
                "French": "No. 32 (00:21)",
                "German": "No. 33 (00:19)",
                "Greek": "No. 34 (00:17)",
                "Hungarian": "No. 35 (00:18)",
                "Italian": "No. 36 (00:23)",
                "Latvian": "No. 37 (00:22)",
                "Lithuanian": "No. 38 (00:19)",
                "Maltese": "No. 39 (00:29)",
                "Polish": "No. 40 (00:26)",
                "Portuguese": "No. 41 (00:25)",
                "Romanian": "No. 42 (00:27)",
                "Slovak": "No. 43 (00:15)",
                "Spanish": "No. 44 (00:18)",
                "Ukrainian": "No. 45 (00:22)"
            }
        };

        document.getElementById('select-all-announcements').addEventListener('change', function() {
            const checkboxes = document.querySelectorAll('input[name="announcement"]');
            checkboxes.forEach(checkbox => checkbox.checked = this.checked);
            updateCounts();
        });

        document.getElementById('select-all-languages').addEventListener('change', function() {
            const checkboxes = document.querySelectorAll('input[name="language"]');
            checkboxes.forEach(checkbox => checkbox.checked = this.checked);
            updateCounts();
        });

        function updateCounts() {
            const selectedAnnouncements = document.querySelectorAll('input[name="announcement"]:checked').length;
            const selectedLanguages = document.querySelectorAll('input[name="language"]:checked').length;
            document.getElementById('announcement-count').textContent = selectedAnnouncements;
            document.getElementById('language-count').textContent = selectedLanguages;
            document.getElementById('total-items').textContent = selectedAnnouncements * selectedLanguages;
        }

        function generateTable() {
            const selectedAnnouncements = Array.from(document.querySelectorAll('input[name="announcement"]:checked')).map(input => input.value);
            const selectedLanguages = Array.from(document.querySelectorAll('input[name="language"]:checked')).map(input => input.value);
            const thead = document.getElementById('results-table-head');
            const tbody = document.getElementById('results-table-body');

            // Reiniciar la tabla
            thead.innerHTML = '<tr><th>Records</th></tr>';
            tbody.innerHTML = '';

            // Determinar los idiomas a mostrar
            let languagesToShow = [];
            if (selectedLanguages.length === 0) {
                languagesToShow = ['English']; // Por defecto, solo inglés si no se selecciona nada
            } else {
                // Asegurarse de que el inglés esté siempre presente, y añadir los idiomas seleccionados
                languagesToShow = ['English'];
                selectedLanguages.forEach(lang => {
                    if (lang !== 'English' && !languagesToShow.includes(lang)) {
                        languagesToShow.push(lang);
                    }
                });
            }

            // Crear las columnas de la tabla
            languagesToShow.forEach(lang => {
                const th = document.createElement('th');
                th.textContent = lang;
                thead.querySelector('tr').appendChild(th);
            });

            // Generar las filas de la tabla
            selectedAnnouncements.forEach(announcement => {
                if (pramData[announcement]) {
                    const row = document.createElement('tr');
                    let cells = `<td>${announcement.replace(/_/g, ' ')}</td>`;
                    languagesToShow.forEach(lang => {
                        cells += `<td>${pramData[announcement][lang] || '-'}</td>`;
                    });
                    row.innerHTML = cells;
                    tbody.appendChild(row);
                }
            });

            updateCounts();
        }

        function resetSelections() {
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => checkbox.checked = false);
            document.getElementById('results-table-body').innerHTML = '';
            const thead = document.getElementById('results-table-head');
            thead.innerHTML = '<tr><th>Records</th></tr>';
            updateCounts();
        }

        document.querySelectorAll('button, input').forEach(element => {
            element.addEventListener('touchstart', function(e) {
                e.preventDefault();
                this.click();
            });
        });

        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js').then(reg => {
                console.log('Service Worker registered', reg);
            }).catch(err => {
                console.log('Service Worker registration failed', err);
            });
        }

        document.querySelectorAll('input[name="announcement"], input[name="language"]').forEach(checkbox => {
            checkbox.addEventListener('change', updateCounts);
        });
    </script>
</body>
</html>
